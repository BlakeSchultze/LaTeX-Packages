%*****************************************************************************************************************************************%
%***************************************************** `my-glossary-hypernav.sty' ********************************************************%
%*****************************************************************************************************************************************%
% This is an adaptation of the 'glossaries' package's 'glossary-hypernav.sty' component implementing the 'indexhypergroup' glossary style selected using the
% \setglossarystyle{indexhypergroup} command
%*****************************************************************************************************************************************%
%*************************************** Define provided package name and LaTeX/package dependencies *************************************%
%*****************************************************************************************************************************************%
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{my-glossary-hypernav}
%*****************************************************************************************************************************************%
%****************************************** Package options and corresponding Boolean variables ******************************************%
%*****************************************************************************************************************************************%
%-----------------------------------------------------------------------------------------------------------------------------------------%
\DeclareOption*{\PackageWarning{my-glossary-hypernav}{Unknown \CurrentOption}}
%*****************************************************************************************************************************************%
%***************************************************** Processing of package options *****************************************************%
%*****************************************************************************************************************************************%
\ProcessOptions\relax
%\catcode`\!=12
%\catcode`|=12
%\makeatletter							% Change @ to standard letter, \catcode'@=11 so it can be used in macro names/definition
%*****************************************************************************************************************************************%
%************************************************************* Package Body **************************************************************%
%*****************************************************************************************************************************************%
\newcommand*{\glsgroupskip}{\par\vspace{20pt plus 10pt minus 0pt}}
\newcommand*{\glsgroupheading}[1]{}
\newcommand*{\glsnavhyperlink}[3][\@glo@type]%
{%
	\edef\gls@grplabel{#2}\protected@edef\@gls@grptitle{#3}%
  	\@glslink{glsn:#1@#2}{#3}%
}
\newcommand*{\glsnavhypertarget}[3][\@glo@type]%
{%
	\renewcommand*{\glsgroupskip}{}%
  	\protected@write\@auxout{}{\string\@gls@hypergroup{#1}{#2}}%
  	\@glstarget{glsn:#1@#2}
  	{%
  		\tikz\node
  		[
  			outer frame ysep=4cm,
			rounded corners=6pt,
		  	draw=DarkSlateGray!75!ForestGreen,
			fill=DarkSlateGray!10,
		    	line width=1.0pt,
		    	inner sep=6pt,
		    	align=center,
		    	font=\fontsize{10.95}{\baselinestretch}\bfseries,
		    	minimum width=\linewidth-\pgflinewidth,
		] {#3};}%
  \expandafter\let
     \expandafter\@gls@list\csname @gls@hypergrouplist@#1\endcsname
  \@for\@gls@elem:=\@gls@list\do{%
    \ifthenelse{\equal{\@gls@elem}{#2}}{\@endfortrue}{}}%
  \if@endfor
  \else
    \GlossariesWarningNoLine{Navigation panel
       for glossary type `#1'^^Jmissing group `#2'}%
    \gdef\gls@hypergrouprerun{%
      \GlossariesWarningNoLine{Navigation panel
      has changed. Rerun LaTeX}}%
  \fi
}
\let\gls@hypergrouprerun\relax
\AtEndDocument{\gls@hypergrouprerun}
\newcommand*{\@gls@hypergroup}[2]{%
	\@ifundefined{@gls@hypergrouplist@#1}{%
	   \expandafter\xdef\csname @gls@hypergrouplist@#1\endcsname{#2}%
	}{%
	   \expandafter\let\expandafter\@gls@tmp
	      \csname @gls@hypergrouplist@#1\endcsname
	   \expandafter\xdef\csname @gls@hypergrouplist@#1\endcsname{%
	      \@gls@tmp,#2}%
	}%
}
\DeclareDocumentCommand{\@gls@add@header}{ m O{\@header@image}}
{%
	\thispagestyle{fancy}%
	\ifthenelse{\equal{#1}{\glsdefaulttype}}%\acronymtype
		{\fancyhead[L]{\@lhead@font\@glossary@lhead@title}}%
		{\fancyhead[L]{\@lhead@font\@listof@acronyms@lhead@title}}%	
	\fancyhead[C]{}%
	\fancyhead[R]{#2}%
}
\newcommand*{\glsnavigation}{%
	\def\@gls@between{}%
	\@ifundefined{@gls@hypergrouplist@\@glo@type}{%
	   \def\@gls@list{}%
	}{%
	   \expandafter\let\expandafter\@gls@list
	      \csname @gls@hypergrouplist@\@glo@type\endcsname
	}%
	\@for\@gls@tmp:=\@gls@list\do{%
	   	\@gls@add@header{\@glo@type}%*****************************************
		\@gls@between
	   \@gls@getgrouptitle{\@gls@tmp}{\@gls@grptitle}%
	   \@gls@navhyperlink@font\glsnavhyperlink{\@gls@tmp}{\@gls@grptitle}%*****************************************
	   \let\@gls@between\glshypernavsep%
	}%
}  	
\newcommand*{\glshypernavsep}{\space\fontsize{13}{\baselinestretch}\textbar\space}
\newcommand*{\glssymbolnav}{%
	\glsnavhyperlink{glssymbols}{\glsgetgrouptitle{glssymbols}}%
	\glshypernavsep
	\glsnavhyperlink{glsnumbers}{\glsgetgrouptitle{glsnumbers}}%
	\glshypernavsep
}
%-----------------------------------------------------------------------------------------------------------------------------------------%
%*****************************************************************************************************************************************%
%************************************************* End of 'my-glossary-hypernav.sty' Package *********************************************%
%*****************************************************************************************************************************************%
\endinput
%% End of file `my-glossary-hypernav.sty'.
