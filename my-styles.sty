%*****************************************************************************************************************************************%
%*********************************************************** `my-styles.sty' *************************************************************%
%*****************************************************************************************************************************************%
% Contains definitions of standard/universal 'Tikz'/'PGF' and 'tcolorbox' settings/properties and 'tcolorbox' styles used in specific package commands/macros/environments and other contexts/applications such as document front/back matter (Table of Contents, glossary, index, etc.) and code listings ('listings'/'minted' packages).
%*****************************************************************************************************************************************%
%*************************************** Define provided package name and LaTeX/package dependencies *************************************%
%*****************************************************************************************************************************************%
\ProvidesPackage{my-styles}
%*****************************************************************************************************************************************%
%****************************************** Package options and corresponding Boolean variables ******************************************%
%*****************************************************************************************************************************************%
%-----------------------------------------------------------------------------------------------------------------------------------------%
\DeclareOption*{\PackageWarning{my-styles}{Unknown \CurrentOption}}
%*****************************************************************************************************************************************%
%***************************************************** Processing of package options *****************************************************%
%*****************************************************************************************************************************************%
\ProcessOptions\relax
%-----------------------------------------------------------------------------------------------------------------------------------------%
%\makeatletter                                          % Change @ to standard letter, \catcode'@=11 so it can be used in macro names/definition
%\catcode`\!=12
%\catcode`|=12
%\catcode`\!=12
%*****************************************************************************************************************************************%
%************************************************************* Package Body **************************************************************%
%*****************************************************************************************************************************************%
%\draw (current bounding box.north east) rectangle (current bounding box.south west);
%-----------------------------------------------------------------------------------------------------------------------------------------%
%----------------------------------------------- Tikz/tcolorbox macro/command definitions ------------------------------------------------%
%-----------------------------------------------------------------------------------------------------------------------------------------%
\def\@IBP@arrow@head{Stealth[length = 12pt, fill=green, width=5pt]}
%\def\@IBP@diag@arrow@tail{Computer Modern Rightarrow[sharp, fill=green,length=4pt, width=2.5pt, reversed]}
\def\@IBP@diag@arrow@tail{Latex[length = 11pt, reversed, fill=green, width=3.0pt]}%, inset = 1pt
\def\@IBP@arrow@lines{draw=IBPColorset-colline, font=\boldmath, line width=0.75pt, text=black}
%\def\liftedshadow{lifted shadow={1mm}{-2mm}{3mm}{0.1mm}{current-colbacktitle}}
%%-----------------------------------------------------------------------------------------------------------------------------------------%
%\def\@set@filled@num@colors#1%
%{
%       \colorlet{fillednumshape-colfill}{#1-colfill}
%       \colorlet{fillednumshape-colfilltext}{#1-colfilltext}
%}
%-----------------------------------------------------------------------------------------------------------------------------------------%
\newcommand\@set@filled@num@colors[1]%
{%
        \colorlet{fillednumshape-colfill}{#1-colfill}%
        \colorlet{fillednumshape-colfilltext}{#1-colfilltext}%
}
%-----------------------------------------------------------------------------------------------------------------------------------------%
\DeclareDocumentCommand{\@set@current@tcb@colors}{m}
{%
        %\colorlet{fillednumshape-colfill}{#1-colfill}%
        %\colorlet{fillednumshape-colfilltext}{#1-colfilltext}%
        \@set@filled@num@colors{#1}%
        \colorlet{current-colback}{#1-colback}%
        \colorlet{current-colbackupper}{#1-colbackupper}%
        \colorlet{current-colbacklower}{#1-colbacklower}%
        \colorlet{current-colbacktitle}{#1-colbacktitle}%
        \colorlet{current-colbackinterior}{#1-colbackinterior}%
        \colorlet{current-colupper}{#1-colupper}%
        \colorlet{current-collower}{#1-collower}%
        \colorlet{current-colframe}{#1-colframe}%
        \colorlet{current-colleftframe}{#1-colleftframe}%
        \colorlet{current-colrightframe}{#1-colrightframe}%
        \colorlet{current-colframeborder}{#1-colframeborder}%
        %\colorlet{current-colframeoutline}{#1-colframeoutline}%
        \colorlet{current-colinteriorborder}{#1-colinteriorborder}%
        %\colorlet{current-colinterioroutline}{#1-colinterioroutline}%
        \colorlet{current-coltitle}{#1-coltitle}%
        \colorlet{current-coltext}{#1-coltext}%
        %\colorlet{current-coltextshadowbase}{#1-coltextshadowbase}%
        \colorlet{current-coldraw}{#1-coldraw}%
        \colorlet{current-colfill}{#1-colfill}%
        \colorlet{current-colfilltext}{#1-colfilltext}%
        %\colorlet{current-lightcol}{#1-lightcol}%
        %\colorlet{current-darkcol}{#1-darkcol}%
        \colorlet{current-rulecolor}{#1-rulecolor}%
        %\colorlet{current-highlightcol}{#1-highlightcol}%
        \colorlet{current-colboxshadow}{#1-colboxshadow}%
        \colorlet{current-coltextshadow}{#1-coltextshadow}%
        \colorlet{current-coldoubleline}{#1-coldoubleline}%
        \edef\@current@tcb@coloring{#1}%
}
%*****************************************************************************************************************************************%
%**************************************************** Tikz/tcolorbox styles/settings *****************************************************%
%*****************************************************************************************************************************************%
\tikzset
{
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Universal Text/Path/Draw/Arrow Settings/Styles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
        ,>=stealth', thick, black!50, text=black, %arrows =-{Stealth[length=5mm]}, %arrows = -{Triangle[open, angle=60:3mm]},
        skip loop/.style={to path={-- ++(0,#1) -| (\tikztotarget)}},
        every new ->/.style={shorten >=0pt},
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Diagram Node/Graph/Matrix Styles/Commands ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
        fontscale/.style = {font=\relsize{#1}},
        textonly/.style={minimum size=0pt, draw=diagram-text-coldraw, top color=diagram-text-topcolor, bottom color=diagram-text-bottomcolor},%, font=\large},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        D/.style={rectangle, minimum size=1pt, line width=4ex, very thick, draw=diagram-dir-coldraw, top color=diagram-dir-topcolor, bottom color=diagram-dir-bottomcolor, font=\itshape},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        F/.style={rectangle, rounded corners=5pt, minimum size=1mm, line width=4ex, very thick, draw=diagram-file-coldraw, top color=diagram-file-topcolor, bottom color=diagram-file-bottomcolor, font=\itshape},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        end/.style={rectangle, rounded corners=5pt, minimum size=4mm, line width=4ex, very thick, draw=diagram-end-coldraw, top color=diagram-end-topcolor, bottom color=diagram-end-bottomcolor, font=\itshape},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        pt/.style={draw,inner sep=0pt,minimum size=0.3pt,fill=diagram-point-colfill},
graphs/every graph/.style={edges=rounded corners},
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ tcolorbox Context Styles/Commands ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%-----------------------------------------------------------------------------------------------------------------------------------------%
        IBPdiagArrows/.style=
        {%      Arc Barb[length=2pt], Diamond[open] , Kite[]
                %Latex, Stealth, Straight Barb[length=5pt,width=5pt], Straight Barb[angle=60:2pt 3], Kite[]
                draw=IBPColorset-colline, font=\boldmath, line width=0.75pt, text=black,
                {\@IBP@diag@arrow@tail}-{\@IBP@arrow@head}
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        IBPhorizArrows/.style=
        {%
                draw=IBPColorset-colline, font=\boldmath, line width=0.75pt, text=black,
                {\@IBP@diag@arrow@tail}-{\@IBP@arrow@head}
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        weird fill/.style=
        {%
                append after command=
                {
                        \pgfextra
                        \draw[sharp corners, fill=#1]%
                                (\tikzlastnode.west)%
                                [rounded corners=3pt] |- (frame.north east)%
                                [rounded corners=1pt] -| (frame.north west)%
                                [rounded corners=5pt] |- (title.south west)%
                                [rounded corners=0pt] -| (title.south east);
                                \endpgfextra%
                }
        }%
}
%*****************************************************************************************************************************************%
%***************************************** tcolorbox Tikz-Based Styles/Configurations/Commands *******************************************%
%*****************************************************************************************************************************************%
\tcbset
{%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ General Purpose Tikz Command-Styles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
        addtolol/.code={\phantomsection\addcontentsline{lol}{subsection}{\large#1}},
        addtolol/.default={\kvtcb@title},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        save height/.code=
        {%
                \tcbset{breakable}%
                \providecommand{#1}{2cm}%
                \def\tcb@split@start%
                {%
                \tcb@breakat@init%
                \tcb@comp@h@page%
                \def\tcb@ch%
                        {%
                                \tcbset{height=\tcb@h@page}%
                                \tcbdimto#1{#1+\tcb@h@page-\tcb@natheight}%
                         \immediate\write\@auxout{\string\gdef\string#1{#1}}%
                                \tcb@ch%
                        }%
                \tcb@drawcolorbox@standalone%
                }%
        },
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Title Code/Styles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%-----------------------------------------------------------------------------------------------------------------------------------------%
        subtitleStyle/.style args={#1#2#3}
        {
                subtitle style=
                {
                        colback=#1-colback, coltext=#1-coltext, boxrule=#2, left=#3,
                        right=#3
                }
        },
        subtitleStyle/.default={current}{-1pt}{4.1pt},
        %subtitleStyle/.default=current,
%-----------------------------------------------------------------------------------------------------------------------------------------%
        %titleSepCode/.style n args={4}
        titleSepCode/.style=
        {
                % Horizontal line on title/interior edge connecting north east/west interior border
                title code=
                {
                        \path[draw=#1-colinteriorborder, use as bounding box,
                                line width=\@title@interior@sep@linewidth]
                                ([xshift=-\@title@sep@xshift, yshift=-\@title@sep@yshift]title.south west)
                                --([xshift=\@title@sep@xshift,yshift=-\@title@sep@yshift]title.south east);
                }
        },
        titleSepCode/.default=current,
%-----------------------------------------------------------------------------------------------------------------------------------------%
        %filledTitleSepCode/.style args={#1#2}
        filledTitleSepCode/.style n args={2}%
        {
                % Outline along boundary between title and interior
                title code=
                {
                        \filldraw[draw=#1-colinteriorborder, fill=#1-colbacktitle,
                                rounded corners=\@tcb@interior@corner@radius, line width=#2]
                                ([xshift=0pt, yshift=0pt]title.south west)
                                --([xshift=0pt, yshift=0pt]title.north west)
                                --([xshift=0pt, yshift=0pt]title.north east)
                                --([xshift=0pt, yshift=0pt]title.south east);
                }
        },
        filledTitleSepCode/.default={current}{\@title@interior@sep@linewidth},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        %attachBoxedTitleTopCenter{yshift=0.25mm}{yshifttext=2mm}
        attachBoxedTitleTopCenter/.style=
        {
                attach boxed title to top center=
                        {yshift=-0.0mm-\tcboxedtitleheight/2, yshifttext=2mm-\tcboxedtitleheight/2}
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        topLeftSectionTitleStyle/.style=
        {
                boxed title style=
                {
                        empty, size=minimal, toprule=\@boxed@title@top, top=\@boxed@title@top, %bottom=\@boxed@title@top,
                        overlay=
                        {
                                \draw
                                [
                                        #1-coldraw, line width=\@boxed@title@linewidth,
                                        double=#1-coldoubleline, double distance=\@overlay@double@distance
                                ]
                                ([yshift=\@overlay@yshift]frame.north west)
                                --([yshift=\@overlay@yshift]frame.north east);
                        }
                },
                overlay unbroken=
                {
                        \draw
                        [
                                #1-coldraw, line width=\@overlay@linewidth,
                                double=#1-coldoubleline, double distance=\@overlay@double@distance
                        ]
                        ([yshift=\@overlay@yshift]title.north east)
                        --([xshift=\@overlay@xshift,yshift=\@overlay@yshift]title.north-|frame.east)
                        --([xshift=\@overlay@xshift]frame.south east)
                        --(frame.south west);
                },
                overlay first=
                {
                        \draw
                        [
                                #1-coldraw, line width=\@overlay@linewidth,
                                double=#1-coldoubleline, double distance=\@overlay@double@distance
                        ]
                        ([yshift=\@overlay@yshift]title.north east)
                        --([xshift=\@overlay@xshift,yshift=\@overlay@yshift]title.north-|frame.east)
                        --([xshift=\@overlay@xshift]frame.south east);
                },
                overlay middle=
                {
                        \draw
                        [
                                #1-coldraw, line width=\@overlay@linewidth,
                                double=#1-coldoubleline, double distance=\@overlay@double@distance
                        ]
                        ([xshift=\@overlay@xshift]frame.north east)
                        --([xshift=\@overlay@xshift]frame.south east);
                },
                overlay last=
                {
                        \draw
                        [
                                #1-coldraw, line width=\@overlay@linewidth,
                                double=#1-coldoubleline, double distance=\@overlay@double@distance
                        ]
                        ([xshift=\@overlay@xshift]frame.north east)
                        --([xshift=\@overlay@xshift]frame.south east)
                        --(frame.south west);
                }
        },
        topLeftSectionTitleStyle/.default=current,
%-----------------------------------------------------------------------------------------------------------------------------------------%
        %topCenterBoxedTitleStyle/.style n args={4}
        topCenterBoxedTitleStyle/.style=
        {%
                boxed title style=
                {%
                        enhanced, boxrule=0.6mm, top=0.25mm, bottom=0.5mm, left=3.0mm, right=3.0mm, %size=title,
                        % outter border of angled title box
                        frame code=
                        {%
                                \path
                                [
                                        draw=#1-colframe, use as bounding box,
                                        line width=2.0pt, double=#1-coldoubleline,
                                        double distance=\@frame@double@distance
                                ]
                                        ([xshift=-\@outter@angle@distance - 2mm]frame.west)%
                                        -- ([xshift=-1mm, yshift= 0.5mm]frame.north west)
                                        -- ([xshift=1mm, yshift= 0.5mm]frame.north east)
                                        -- ([xshift=\@outter@angle@distance + 2mm]frame.east)%
                                        -- ([xshift=1mm, yshift= -0.5mm]frame.south east)
                                        -- ([xshift=-1mm, yshift= -0.5mm]frame.south west)
                                        -- cycle;,
                                \filldraw
                                [
                                        %tcb fill frame,
                                        fill=#1-colfill,
                                        draw=#1-coldoubleline,
                                        line width=0.05pt%,
                                        %double=#1-coldoubleline, double distance=\@frame@double@distance
                                ]
                                        ([xshift=-\@outter@angle@distance - 2mm]frame.west)%
                                        -- ([xshift=-1mm, yshift= 0.5mm]frame.north west)
                                        -- ([xshift=1mm, yshift= 0.5mm]frame.north east)
                                        -- ([xshift=\@outter@angle@distance + 2mm]frame.east)%
                                        -- ([xshift=1mm, yshift= -0.5mm]frame.south east)
                                        -- ([xshift=-1mm, yshift= -0.5mm]frame.south west)
                                        -- cycle;,
                        },
                        % inner border of angled title box
                        interior code=
                        {
                                \path
                                [
                                        draw=#1-colinteriorborder, use as bounding box,
                                        line width=2.0pt, double=#1-coldoubleline,
                                        double distance=1.75pt
                                ]
                                        ([xshift=-\@inner@angle@distance - 0.0mm]interior.west)
                                        -- ([yshift=1.75pt]interior.south west)
                                        --  ([yshift=1.75pt]interior.south east)
                                        -- ([xshift=\@inner@angle@distance + 0.0mm]interior.east)
                                        -- ([yshift=-1.75pt]interior.north east)
                                        -- ([yshift=-1.75pt]interior.north west)
                                        -- cycle;,
                                \filldraw[fill=#1-colbackinterior, line width=0.0pt]%draw=#1-coldoubleline,
                                %\path[tcb fill frame, fill=#1-colbackinterior, draw=#1-coldoubleline, line width=0.05pt]
                                        % double=#1-coldoubleline, double distance=0.75pt]
                                        ([xshift=-\@inner@angle@distance - 0.0mm]interior.west)
                                        -- ([yshift=-1.75pt]interior.north west)
                                        -- ([yshift=-1.75pt]interior.north east)
                                        -- ([xshift=\@inner@angle@distance + 0.0mm]interior.east)
                                        --  ([yshift=1.75pt]interior.south east)
                                        -- ([yshift=1.75pt]interior.south west)
                                        -- cycle;
                        }
                }
        },
        topCenterBoxedTitleStyle/.default=current,
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Frame Code/Styles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
        %frameCodeSetup/.style n args={4}
        frameCodeSetup/.style=
        {
                frame code=
                {% Outter frame around entire box and title
                        \draw[draw=#1-colframe, rounded corners=\@tcb@frame@corner@radius,
                                fill=#1-colfill, line width=\@frame@border@linewidth]
                                (frame.north east)
                                --(frame.north west)
                                --(frame.south west)
                                --(frame.south east)
                                -- cycle;
                }
        },
        frameCodeSetup/.default=current,
%-----------------------------------------------------------------------------------------------------------------------------------------%
        titleframeComboSetup/.style=
        {
                frame code=
                {
                        \node
                        [
                                anchor=south west, inner xsep=8pt, xshift=8pt, rounded corners=\@tcb@frame@corner@radius,
                                font=\bfseries\color{white}, fill=current-colframeborder, draw=current-colframe, line width=1.5pt
                        ]
%%\BreakableShadowText[*]'font family/series/style/size'<horizontal offset><vertical offset>[text color](shadow color){text}
%\BreakableShadowText'\anttmcap16pt'[tcbBlueScheme-coltext](tcbBlueScheme-coltextshadow)
                        at (frame.north west) (tit) {\BreakableShadowText*'\anttmcap16pt'[current-coltitle](current-coltextshadow):black:{Contents\minispace:}};
                        \draw[line width=8pt, rounded corners=\@frame@corner@radius, draw=current-colframe]%
                                (tit.west)
                                -| ([xshift=0pt, yshift=-6pt]frame.south west)
                                -- ([xshift=13pt, yshift=-6pt]frame.south west);
                        \draw[line width=2pt, rounded corners=\@frame@corner@radius, draw=current-colframeborder,
                                double=current-coldoubleline, double distance=0.75pt]%
                                (tit.west)
                                -| ([xshift=0pt, yshift=-6pt]frame.south west)
                                -- ([xshift=13pt, yshift=-6pt]frame.south west);
                }
        },
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Interior Code/Styles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%-----------------------------------------------------------------------------------------------------------------------------------------%
        %interiorStyle/.style=
        interiorStyle/.style n args={2}%=
        {
                interior style=
                        {draw=#2, line width=#1, rounded corners=\@tcb@interior@corner@radius}
        },
        interiorStyle/.default={\@interior@border@linewidth}{current-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        interiorMultilineStyle/.style n args={2}%=
        {
                %code={\def\@current@color@scheme{\StrBefore[1]{#3}{-}}}
                interior style=
                {
                        draw=#2, line width=#1,
                        double=current-coldoubleline, double distance=\@interior@double@distance, rounded corners=\@tcb@interior@corner@radius
                }
        },
        interiorMultilineStyle/.default={\@interior@border@linewidth}{current-colframeborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        biColorInteriorStyle/.style n args={4}%=
        {
                interior style=
                {
                        draw=#2, line width=#1, rounded corners=\@tcb@interior@corner@radius,
                        %colbackgradient
                        %colbackgradient={blue}{white}{2}{6}{13}
                        top color=blue!2!white, middle color=blue!8!white, bottom color=blue!17!white
                }
        },
        biColorInteriorStyle/.default={\@interior@border@linewidth}{current-colinteriorborder}{blue}{white},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        biColorMultilineInteriorStyle/.style n args={4}%=
        {
                interior style=
                {
                        draw=#2, line width=#1,
                        double=current-coldoubleline, double distance=\@interior@double@distance, rounded corners=\@tcb@interior@corner@radius,
                        %colbackgradient
                        %colbackgradient={blue}{white}{2}{6}{13}
                        top color=blue!2!white, middle color=blue!8!white, bottom color=blue!17!white
                }
        },
        biColorMultilineInteriorStyle/.default={\@interior@border@linewidth}{current-colframeborder}{blue}{white},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        titleframeComboInteriorSetup/.style=
        {
                interior titled code=
                {% Frame around interior region except for titlerule (rule separating title/interior areas)
                        \draw[draw=current-colinteriorborder, rounded corners=1pt,
                                fill=current-colinteriorborder, line width=5pt]
                                ([yshift=-1pt]interior.north east)
                                --([xshift=10pt, yshift=-1pt]interior.north west)
                                --([xshift=10pt, yshift=-1pt]interior.south west)
                                --([yshift=-1pt]interior.south east)
                                -- cycle;
                        \filldraw[draw=current-coldraw, rounded corners=1pt,
                                fill=current-colbackinterior, line width=1pt,
                                double=current-coldoubleline, double distance=0.5pt]
                                ([yshift=-1pt]interior.north east)
                                --([xshift=10pt, yshift=-1pt]interior.north west)
                                --([xshift=10pt, yshift=-1pt]interior.south west)
                                --([yshift=-1pt]interior.south east)
                                -- cycle;
                },
                interior code=
                {
                        \draw[draw=current-colinteriorborder, rounded corners=1pt,
                                fill=current-colinteriorborder, line width=5pt]
                                ([yshift=-1pt]interior.north east)
                                --([xshift=10pt, yshift=-1pt]interior.north west)
                                --([xshift=10pt, yshift=-1pt]interior.south west)
                                --([yshift=-1pt]interior.south east)
                                -- cycle;
                        \filldraw[draw=current-coldraw, rounded corners=1pt,
                                fill=current-colbackinterior, line width=1pt,
                                double=current-coldoubleline, double distance=0.5pt]
                                ([yshift=-1pt]interior.north east)
                                --([xshift=10pt, yshift=-1pt]interior.north west)
                                --([xshift=10pt, yshift=-1pt]interior.south west)
                                --([yshift=-1pt]interior.south east)
                                -- cycle;
                }
        },
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Segmentation Code/Styles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
        %terminalSegmentationCode/.style
        terminalSegmentationCode/.style n args={3}%=
        {
                tcbsetlinewidths={#1}{#2},                        
                segmentation code=
                {
                        \begin{tcbclipframe}
                                \filldraw
                                [
                                        fill=#3-colbacklower, draw=#3-colinteriorborder,
                                        rounded corners=\@tcb@frame@corner@radius, line width=\@tcb@half@boxrule@linewidth
                                ]
                                        ([xshift=0.0pt, yshift=\@tcb@twice@boxrule@linewidth]segmentation.south west)
                                        -- ([xshift=0.0pt, yshift=\@tcb@twice@boxrule@linewidth]segmentation.south east)
                                        -- ([xshift=-0.0pt, yshift=0.0pt]interior.south east)
                                        -- ([xshift=0.0pt, yshift=0.0pt]interior.south west)
                                        -- cycle;
                                \filldraw[fill=#3-colbackupper, draw=#3-colinteriorborder, sharp corners,
                                                line width=\@tcb@half@boxrule@linewidth]
                                        ([xshift=0.0pt, yshift=#1]segmentation.south west)
                                        -- ([xshift=-0.0pt, yshift=#1]segmentation.south east)
                                        -- ([xshift=-0.0pt, yshift=\@tcb@twice@boxrule@linewidth]segmentation.south east)
                                        -- ([xshift=0.0pt, yshift=\@tcb@twice@boxrule@linewidth]segmentation.south west)
                                        -- cycle;
                        \end{tcbclipframe}
                }
        },
        terminalSegmentationCode/.default={\@tcb@default@boxrule@linewidth}{single}{tcbbashboxColorset},
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%      %~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Style Construction Components ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
        @BASIC@STYLE/.style =
        {
                empty, enhanced, breakable, segmentation empty, every float=\centering,
                hyphenationfix, drop lifted shadow=default-colbacktitle,
                coltitle=black, coltext=black, colframe=black, colback=white,
                boxrule=2pt, boxsep=2pt, arc=6pt, top=2mm, bottom=2mm, left=2mm, right=2mm,
                before=\par\smallskip, after=\par\smallskip, fonttitle=\large\bfseries,
                fontupper=\normalsize\bfseries, fontlower=\normalsize\bfseries
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        @DEFAULT@STYLE/.style =
        {
                empty, enhanced, breakable, segmentation empty, every float=\centering,
                hyphenationfix, arc = 6pt, %drop lifted shadow=default-colbacktitle,
                colback= default-colback, colbacktitle=default-colbacktitle,
                colframe=default-colframe, coltitle=default-coltitle, coltext=default-coltext,
                %code={\tikzset{draw=default-coldraw}},
                after=\par\smallskip, before=\par\smallskip,
                fonttitle=\large\bfseries, fontupper=\normalsize\bfseries,%\liftedshadow,
                fontlower=\normalsize\bfseries
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        angleBoxedTitleStyle/.style=
        {
                enhanced, breakable, @set@tcb@property@colors, fonttitle=\bfseries, after=\medskip, top=5mm,
                %title={\shadowText:\tcbsectiontitlefont:'current'{Preliminaries:}},
                %title={\shadowText:\tcbsectiontitlefont:(current){Preliminaries:}},
                %%\BreakableShadowText[*]'font family/series/style/size'<horizontal offset><vertical offset>[text color](shadow color){text}     %\BreakableShadowText'\anttmcap16pt'[tcbBlueScheme-coltext](tcbBlueScheme-coltextshadow)
                before skip=2mm, after skip=3mm, attachBoxedTitleTopCenter,%{0.25mm}{2mm},
                biColorInteriorStyle, topCenterBoxedTitleStyle
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        @set@tcb@property@colors/.style=
        {
                colback=#1-colback, colbacklower=#1-colbacklower, colframe=#1-colframe, coltitle=#1-coltitle, colbacktitle=#1-colbacktitle,
                coltext=#1-coltext, colupper=#1-colupper, collower=#1-collower, %left color=#1-colleftframe, right color=#1-colrightframe
        },
        @set@tcb@property@colors/.default={current},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        colbackgradient/.forward to=/tcb/interior style,
        %{
         %       %top color=#1!#3!#2, middle color=#1!#4!#2, bottom color=#1!#5!#2
        %        top color=blue!2!white, middle color=blue!6!white, bottom color=blue!13!white
        %},
        %colbackgradient/.default={blue}{white}{2}{6}{13},
%-----------------------------------------------------------------------------------------------------------------------------------------%
%        tcbsetbordershifts/.style n args={2}%=
%        {%
%                code=
%                {%
%                        \IfStrEqCase{#2}%
%                        {%
%                                {single}%
%                                {%
%                                       \setlength\@tcb@single@border@xshift%
%                                       {\dimexpr\@tcb@half@boxrule@linewidth - \@tcb@half@border@linewidth + \@tcb@quarter@interior@border@linewidth}%
%                                }%
%                                {double}{}%
%                                {inner}{}%
%                                {doubleinner}{}%
%                                {plain}{}%
%                        }[]%
%                        \setlength\@tcb@titlerule@xshift{\dimexpr\@tcb@half@effective@boxrule@linewidth - \@tcb@half@interior@border@linewidth}%
%                        \setlength\@tcb@titlerule@yshift{\dimexpr\@tcb@half@titlerule@linewidth}%
%                }%
%        },
%        tcbsetbordershifts/.default={\@tcb@default@boxrule@linewidth}{single},
%%-----------------------------------------------------------------------------------------------------------------------------------------%
%        tcbsetlinewidths/.style n args={2}%=
%        {%
%                code=
%                {%
%                        \IfStrEqCase{#2}%
%                        {%
%                                {single}{\setlength\@tcb@border@linewidth{\@tcb@single@border@linewidth}}%
%                                {double}{\setlength\@tcb@border@linewidth{\@tcb@double@border@linewidth}}%
%                                {plain}{\setlength\@tcb@single@border@linewidth{0pt}\setlength\@tcb@border@linewidth{0pt}}%
%                        }[\setlength\@tcb@border@linewidth{\@tcb@single@border@linewidth}]%
%                        \@tcb@set@boxrule@linewidths{#1}%
%                        \@tcb@set@interior@border@linewidths{\@tcb@half@boxrule@linewidth}%
%                        \setlength\@tcb@effective@boxrule@linewidth{\dimexpr#1 + \@tcb@half@interior@border@linewidth}%
%                        \setlength\@tcb@half@effective@boxrule@linewidth{\dimexpr\@tcb@effective@boxrule@linewidth / 2}%
%                        \setlength\@tcb@quarter@effective@boxrule@linewidth{\dimexpr\@tcb@effective@boxrule@linewidth / 4}%
%                        %
%                        \setlength\@tcb@titlerule@linewidth{\dimexpr#1 - \@tcb@half@interior@border@linewidth}%
%                        \setlength\@tcb@half@titlerule@linewidth{\dimexpr\@tcb@titlerule@linewidth / 2}%
%                        %
%                        \setlength\@tcb@single@border@xshift{\dimexpr\@tcb@half@boxrule@linewidth - \@tcb@half@border@linewidth + \@tcb@quarter@interior@border@linewidth}%
%                        \setlength\@tcb@titlerule@xshift{\dimexpr\@tcb@half@effective@boxrule@linewidth - \@tcb@half@interior@border@linewidth}%
%                        \setlength\@tcb@titlerule@yshift{\dimexpr\@tcb@half@titlerule@linewidth}%
%                }%
%        },
%        tcbsetlinewidths/.default={\@tcb@default@boxrule@linewidth}{single},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbborder/.style n args={4}%=
        {
                tcbsetlinewidths={#1}{#2},
                code=
                {%
                        \IfStrEqCase{#2}%
                        {%
                                {plain}{\tcbset{tcbplainborder={#1}{#3}}}%
                                {filled}{\tcbset{tcbfilledborder={#1}{#3}}}%
                                {single}{\tcbset{tcbsingleborder={#1}{#3}}}%
                                {double}{\tcbset{tcbdoubleborder={#1}{#3}{current-coldoubleline}}}%
                                {inner}{\tcbset{tcbinnerborder={#1}{#3}}}%
                                {doubleinner}{\tcbset{tcbdoubleinnerborder={#1}{#3}{current-coldoubleline}}}%
                        }[\tcbset{tcbsingleborder={#1}{#3}}]%
                }
        },
        tcbborder/.default={\@tcb@default@boxrule@linewidth}{single}{current-colframeborder}{current-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbtitleborder/.style n args={4}%=
        {
                tcbsetlinewidths={#1}{#2},
                code=
                {%
                        \IfStrEqCase{#2}%
                        {%
                                {plain}{\tcbset{tcbplaintitleborder={#1}{current}{#3}}}%
                                {filled}{\tcbset{tcbfilledtitleborder={#1}{current}{#3}}}%
                                {single}{\tcbset{tcbsingletitleborder={#1}{current}{#3}}}%
                                {double}{\tcbset{tcbdoubletitleborder={#1}{current}{#3}}}%
                                {inner}{\tcbset{tcbinnertitleborder={#1}{current}{#3}}}%
                                {doubleinner}{\tcbset{tcbdoubleinnertitleborder={#1}{current}{#3}}}%
                                {angledbox}{\tcbset{attachBoxedTitleTopCenter, topCenterBoxedTitleStyle}}%
                        }[\tcbset{tcbsingletitleborder={#1}{current}{#3}}]%
                        %
                        \IfStrEqCase{#2}%
                        {%
                                {plain}{\tcbset{extras first and middle={tcbplaintitleborder={#1}{current}{#3}}}}%
                                {filled}{\tcbset{extras first and middle={tcbfilledtitleborder={#1}{current}{#3}}}}%
                                {single}{\tcbset{extras first and middle={tcbsingletitleborder={#1}{current}{#3}}}}%
                                {double}{\tcbset{extras first and middle={tcbdoubletitleborder={#1}{current}{#3}}}}%
                                {inner}{\tcbset{extras first and middle={tcbinnertitleborder={#1}{current}{#3}}}}%
                                {doubleinner}{\tcbset{extras first and middle={tcbdoubleinnertitleborder={#1}{current}{#3}}}}%
                                {angledbox}{\tcbset{extras first and middle={attachBoxedTitleTopCenter, topCenterBoxedTitleStyle}}}%
                        }[\tcbset{extras first and middle={tcbsingletitleborder={#1}{current}{#3}}}]%
                },
        },
        tcbtitleborder/.default={\@tcb@default@boxrule@linewidth}{single}{current-colframeborder}{current-colinteriorborder},
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
        %tcbfilledborder/.style n args={4}
        tcbfilledborder/.style=
        {
                frame code=
                {% Outter frame around entire box and title
                        \draw[draw=#1-colframe, rounded corners=\@tcb@frame@corner@radius,
                                fill=#1-colfill, line width=\@frame@border@linewidth]
                                (frame.north east)
                                --(frame.north west)
                                --(frame.south west)
                                --(frame.south east)
                                -- cycle;
                }
        },
        tcbfilledborder/.default=current,
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbplainborder/.style n args={2}%=
        {
                borderline={#1}{0pt}{draw=#2, rounded corners=\@tcb@frame@corner@radius}%, boxrule=#1
        },
        tcbplainborder/.default={\@tcb@plain@border@linewidth}{current-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbplaintitleborder/.style n args={3}%=
        {
                titlerule=\@tcb@half@boxrule@linewidth,
                title style={draw=#3, fill=#2-colbacktitle, line width=#1}%
        },
        tcbplaintitleborder/.default={\@tcb@plain@interior@border@linewidth}{current}{current-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbsingleborder/.style n args={2}%=
        {
                boxrule=#1,
                borderline={\@tcb@single@border@linewidth}{\@tcb@single@border@xshift}{draw=#2, rounded corners=\@tcb@frame@corner@radius}
        },
        tcbsingleborder/.default={\@tcb@default@boxrule@linewidth}{current-colframeborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbsingletitleborder/.style n args={3}%=
        {
                titlerule=\@tcb@titlerule@linewidth,
                title style={draw=#2-colinteriorborder, fill=#2-colbacktitle, line width=\@tcb@interior@border@linewidth}, %xshift=1cm,
                title code app=
                {
                        enhanced,
                        \draw[draw=#3, rounded corners=\@tcb@interior@corner@radius, line width=\@tcb@border@linewidth]
                                ([xshift=-\@tcb@titlerule@xshift, yshift=-\@tcb@titlerule@yshift]title.south west)
                                --([xshift=\@tcb@titlerule@xshift, yshift=-\@tcb@titlerule@yshift]title.south east);,
                }
        },
        tcbsingletitleborder/.default={\@tcb@default@boxrule@linewidth}{current}{current-colframeborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbdoubleborder/.style n args={3}%=
        {
                boxrule=#1,
                borderline={\@tcb@double@border@linewidth}{\dimexpr#1 / 2 - 0.25pt\relax}{#2, rounded corners=\@tcb@frame@corner@radius},
                borderline={\@tcb@double@border@linewidth}{\dimexpr#1 / 2 + 0.25pt\relax}{#3, rounded corners=\@tcb@frame@corner@radius},
                borderline={\@tcb@double@border@linewidth}{\dimexpr#1 / 2 + 0.75pt\relax}{#2, rounded corners=\@tcb@frame@corner@radius}
        },
        tcbdoubleborder/.default={\@tcb@default@boxrule@linewidth}{current-colframeborder}{current-coldoubleline},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbdoubletitleborder/.style n args={3}%=
        {
                titlerule=#1,
                title code=
                {
                        enhanced,
                        \filldraw[draw=#2-colframe, fill=#2-colbacktitle,
                                rounded corners=\@tcb@interior@corner@radius, line width=\@title@interior@sep@linewidth]
                                ([xshift=0pt, yshift=0pt]title.south west)
                                --([xshift=0pt, yshift=0pt]title.north west)
                                --([xshift=0pt, yshift=0pt]title.north east)
                                --([xshift=0pt, yshift=0pt]title.south east);,
                        \draw[draw=#3, rounded corners=\@tcb@interior@corner@radius, line width=\dimexpr#1 / 2 - 0.5pt\relax,
                                double=#2-coldoubleline, double distance=0.5pt]
                                ([xshift=-\dimexpr#1 / 2 - 0.75pt\relax, yshift=-\dimexpr#1 / 2 + 0.5pt\relax]title.south west)
                                --([xshift=\dimexpr#1 / 2 - 0.75pt\relax, yshift=-\dimexpr#1 / 2 + 0.5pt\relax]title.south east);
                }
        },
        tcbdoubletitleborder/.default={\@tcb@default@boxrule@linewidth}{current}{current-colframeborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbinnerborder/.style n args={2}%=
        {
                boxrule=#1,
                borderline={\@tcb@borderline@linewidth}{4.0pt}{draw=#2, rounded corners=\@tcb@frame@corner@radius}
        },
        tcbinnerborder/.default={\@tcb@default@boxrule@linewidth}{current-colframeborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbinnertitleborder/.style n args={3}%=
        {
                titlerule=\@tcb@titlerule@linewidth,
                title style={draw=#2-colinteriorborder, fill=#2-colbacktitle, line width=\@tcb@interior@border@linewidth}, %xshift=1cm,
                title code app=
                {
                        enhanced,
                        \draw[draw=#3, rounded corners=\@tcb@interior@corner@radius, line width=\@tcb@border@linewidth]
                                ([xshift=-\@tcb@titlerule@xshift, yshift=-\@tcb@titlerule@yshift]title.south west)
                                --([xshift=\@tcb@titlerule@xshift, yshift=-\@tcb@titlerule@yshift]title.south east);,
                }
        },
        tcbinnertitleborder/.default={\@tcb@default@boxrule@linewidth}{current}{current-colframeborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbdoubleinnerborder/.style n args={3}%=
        {
                boxrule=#1,
                borderline={\@tcb@doubleinner@border@linewidth}{\@tcb@doubleinner@border@xshift}%
                        {draw=#2, double=#3, double distance=\@interior@double@distance, rounded corners=\@tcb@frame@corner@radius}
        },
        tcbdoubleinnerborder/.default={\@tcb@default@boxrule@linewidth}{current-colframeborder}{current-coldoubleline},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbdoubleinnertitleborder/.style n args={3}%=
        {
                titlerule=#1,
                title code=
                {
                        enhanced,
                        \filldraw[draw=#2-colframe, fill=#2-colbacktitle,
                                rounded corners=\@tcb@interior@corner@radius, line width=\@title@interior@sep@linewidth]
                                ([xshift=0pt, yshift=0pt]title.south west)
                                --([xshift=0pt, yshift=0pt]title.north west)
                                --([xshift=0pt, yshift=0pt]title.north east)
                                --([xshift=0pt, yshift=0pt]title.south east);,
                        \draw[draw=#3, rounded corners=\@tcb@interior@corner@radius, line width=\dimexpr#1 / 2 - 0.5pt\relax,
                                double=#2-coldoubleline, double distance=0.5pt]
                                ([xshift=-\dimexpr#1 / 2 - 0.75pt\relax, yshift=-\dimexpr#1 / 2 + 0.5pt\relax]title.south west)
                                --([xshift=\dimexpr#1 / 2 - 0.75pt\relax, yshift=-\dimexpr#1 / 2 + 0.5pt\relax]title.south east);
                }
        },
        tcbdoubleinnertitleborder/.default={\@tcb@default@boxrule@linewidth}{current}{current-colframeborder},
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%      %~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Composite/Complete Styles ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~%
%-----------------------------------------------------------------------------------------------------------------------------------------%
        definitionStyle/.style =
        {
                @BASIC@STYLE, %\liftedshadow,
                @set@tcb@property@colors=definitionColorset, boxsep=3mm, before skip= 3mm, after skip =0mm,
                before title=\bfseries, arc=6pt, boxrule=5pt, toptitle=-0.25mm, bottomtitle=-1mm,
                lefttitle=2mm, top=3mm, fontupper=\normalsize\bfseries, fonttitle=\large\bfseries,
                subtitleStyle=definitionColorset, titleSepCode, frameCodeSetup=definitionColorset,
                interiorMultilineStyle%=definitionColorset
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        equationStyle/.style =
        {
                @BASIC@STYLE, @set@tcb@property@colors=solutionColorset,
                before skip=0mm, before=\par\smallskip, after=\par\smallskip
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        exampleStyle/.style =
        {
                @BASIC@STYLE, @set@tcb@property@colors=exampleColorset, toptitle=1mm, bottomtitle=1mm,
                before title=\bfseries, before=\par\smallskip, after=\par\smallskip
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        figureStyle/.style =
        {
                @BASIC@STYLE, @set@tcb@property@colors=figureColorset, center title, toptitle=2mm,
                bottom=3mm, boxsep=0mm, before=\vspace{-2cm}%before skip = -8mm%, after skip = 10mm%
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        frontBackMatterStyle/.style n args={3}%
        {%frontBackMatterStyle{color style}{bottomtitle}{title}
                reset, @DEFAULT@STYLE, @set@tcb@property@colors=#1, title={#3},
                before=\\par\\smallskip, after=\\par\\smallskip, left skip=0mm, %after skip=1mm,
                fonttitle=\\Large\\bfseries, fontupper=\\tiny\\upshape, fontlower=\\tiny\\upshape, toptitle=0mm, bottomtitle=#2,
                boxsep=2mm, boxrule=3pt, top=1mm, left=2mm,
                colframe=tcbFrontBackMatterColorset-colframe, colback=tcbFrontBackMatterColorset-colback,
                colbacktitle=tcbFrontBackMatterColorset-colbacktitle, coltitle=tcbFrontBackMatterColorset-coltitle
                %colframe=stdDKblue, colback=stdbackground, colbacktitle=stdgray, coltitle=white
        },
        frontBackMatterStyle/.default={tcbFrontBackMatterColorset}{0mm}{{}},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        glossariesStyle/.style =
        {%
                reset, @DEFAULT@STYLE,
                %reset, enhanced,
                colframe=tcbGlossaryColorset-colframe, colbacktitle=tcbGlossaryColorset-colbacktitle,
                coltitle=tcbGlossaryColorset-coltitle, colback=stdbackground, before skip=1mm, after skip=2mm,
                lifted shadow={1.0mm}{-2.75mm}{3.5mm}{0.1mm}{tcbGlossaryColorset-colboxshadow},
                boxsep=2mm, boxrule=3pt, top=0.0mm, bottom=1.0mm,left=2mm, right=2mm,
                toptitle=-18mm, bottomtitle=-14mm, lefttitle=3mm, left skip=0mm
                %,before={\protect\\par\\smallskip}, after={\protect\string\\par\string\\smallskip}, fonttitle=\protect\string\\Large\string\\bfseries,
                %fontupper=\protect\string\\normalsize\string\\normalfont
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        IBPStyle/.style n args={4}%
        {
                enhanced, hbox, @set@tcb@property@colors=IBPColorset,
                fuzzy shadow={1.25mm}{-1.5mm}{-0.5mm}{0.3mm}{IBPColorset-colboxshadow},
                fonttitle=\@tcb@title@font, arc=6pt, boxrule=#1, boxsep=2pt, before skip=0mm,
                top=-0.5mm, bottom=1.5mm, lefttitle=2.5mm, righttitle=1mm, toptitle=1.0mm, bottomtitle=1.0mm,
                tcbborder={#1}{#2}{#3}{#4},
                tcbtitleborder={#1}{#2}{#3}{#4},
                %interiorStyle={\@tcb@half@boxrule@linewidth}{#4},              
                interior style={draw=#4, line width=\@tcb@half@boxrule@linewidth}
        },
        %IBPStyle/.default={\@tcb@default@boxrule@linewidth}{single}{IBPColorset-colframeborder}{IBPColorset-colinteriorborder},
        IBPStyle/.default={\@tcb@default@boxrule@linewidth}{single}{IBPColorset-colframeborder}{IBPColorset-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        indexStyle/.style =
        {%
                colframe=tcbIndexColorset-colframe, colback=tcbIndexColorset-colback, colbacktitle=tcbIndexColorset-colbacktitle,
                coltitle=tcbIndexColorset-coltitle, boxrule=3pt, boxsep=2mm, top=-0mm, left=2mm,
                toptitle=0mm, bottomtitle=0mm, lefttitle=3mm, left skip=0mm, after skip=1mm
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        lemmasStyle/.style =
        {
                @BASIC@STYLE, @set@tcb@property@colors=lemmasColorset, before title=\bfseries, toptitle=1mm,
                bottomtitle=1mm, before skip=0mm, before=\par\smallskip, after=\par\smallskip
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        MatlabStyle/.style n args={4}%=
        {
                enhanced, enforce breakable, @set@tcb@property@colors=MatlabColorset, width=\@Matlab@style@width,
                arc=6pt, boxsep=2pt, left=\@Matlab@style@left@frame@skip, right=2mm, top=1.0mm, bottom=1.0mm, %left=0mm,
                %title filled,
                tcbborder={#1}{#2}{#3}{#4},
                tcbtitleborder={#1}{#2}{#3}{#4},
                interior style={draw=#4, line width=\@tcb@interior@border@linewidth, rounded corners=\@interior@corner@radius},
                lifted shadow={1.5mm}{-2.75mm}{3.25mm}{0.1mm}{MatlabColorset-colboxshadow},
                %borderline={.025pt}{0pt}{red, rounded corners=\@frame@corner@radius},
                %borderline={.025pt}{#1}{red, rounded corners=\@frame@corner@radius},
                %bottomrule=0pt,
                %pad before break*=-1.5mm, 
                %enlarge top at break by=0.0mm, 
                %enlarge bottom at break by=-1.0mm,%
                fonttitle=\@tcb@title@font, lefttitle=4mm, toptitle=1mm, bottomtitle=0.5mm, before=\par\smallskip, after=\par\bigskip
        },
        %tcbbashboxStyle/.default={\@tcb@default@boxrule@linewidth}{single}{tcbbashboxColorset-colframeborder},
        MatlabStyle/.default={\@tcb@default@boxrule@linewidth}{single}{MatlabColorset-colframeborder}{MatlabColorset-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        nomenclatureStyle/.style =
        {%
                %frontBackMatterStyle={\nomenclatureColorset}{2mm}{title={\\cftbigfont\\nomname}}
                reset, @DEFAULT@STYLE, colframe=tcbNomenclatureColorset-colframe, colback=tcbNomenclatureColorset-colback,
                colbacktitle=tcbNomenclatureColorset-colbacktitle, coltitle=tcbNomenclatureColorset-coltitle,
                boxrule=3pt, boxsep=2mm, top=1.5mm, left=2mm, left skip=0mm,
                toptitle=0mm, bottomtitle=0mm, lefttitle=3mm
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        pldStyle/.style=
        {
                @DEFAULT@STYLE, @set@tcb@property@colors=pldColorset, breakable=false,
                fontupper=\normalsize\bfseries, fonttitle=\large\bfseries,
                before title=\bfseries, lefttitle=2mm, toptitle=0.25mm, bottomtitle=-3mm,
                arc=6pt, boxrule=10pt, boxsep=1mm, left=2mm, right=3mm, top=1mm, bottom=1mm,
                before skip=3mm, after skip=0mm, after=\par\smallskip, toprule=6pt, bottomrule=7pt,
                #1, frameCodeSetup=pldColorset, interiorMultilineStyle%=pldColorset
                %titleSepCode=pldColorset / filledTitleSepCode=pldColorset (pldTitledStyle)
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        pldTitledStyle/.style =
        {
                @DEFAULT@STYLE, @set@tcb@property@colors=pldColorset,
                boxsep=1mm, left=2mm, right=3mm, top=1mm, bottom=1mm, %before=\par,
                before skip= 3mm, after skip =0mm, before title=\bfseries, arc=6pt, boxrule=10pt, toprule= 6pt, bottomrule= 7pt,
                lefttitle = 2mm, toptitle=1.75mm,  bottomtitle=-2mm,
                fontupper=\normalsize\bfseries, fonttitle=\large\bfseries,
                after =\par\smallskip, breakable=false, titleSepCode, frameCodeSetup, interiorMultilineStyle
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        pldStyle on Layer 2/.style =
        {
                reset, @DEFAULT@STYLE, @set@tcb@property@colors=pldColorset, before skip=-10mm,
                after skip=0mm, boxsep=-1mm, boxrule=3pt, left=3mm, right=3mm, top=3mm, bottom=2mm,
                title filled, righttitle=3mm, lefttitle=4mm, toptitle=2.5mm, bottomtitle=-2mm,
                fontupper=\normalsize\bfseries, fontlower=\bfseries, fonttitle=\bfseries
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        problemsStyle/.style =
        {
                reset, @DEFAULT@STYLE, @set@tcb@property@colors=problemsColorset,
                width=\linewidth, after skip=1mm, before skip=1mm, no shadow,
                boxrule=2pt, boxsep=2pt, arc=6pt, fontupper=\fontsize{11}{\baselinestretch}\bfseries,
                before=\par\smallskip, after=\par\smallskip,% before skip = 0mm, after skip = 0mm,
                top=2mm, bottom=2mm, left=2mm, right=2mm, before skip=0mm
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        subproblemsStyle/.style =
        {
                reset, @DEFAULT@STYLE, @set@tcb@property@colors=subproblemsColorset, width=\linewidth,
                no shadow, boxrule=2pt, boxsep=2pt, arc=6pt, before skip=0mm, after skip=0mm,
                fontupper=\fontsize{10}{\baselinestretch}\bfseries, before=\par\smallskip,
                after=\par\smallskip, top=2mm, bottom=2mm, left=2mm, right=2mm
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbbashboxStyle/.style n args={4}%=
        {
                reset, enhanced, @set@tcb@property@colors=tcbbashboxColorset, width=\@terminal@style@width,
                code=
                {
                        \setlength\@tcb@half@boxrule@linewidth{\dimexpr #1 / 2\relax}
                        \setlength\@tcb@quarter@boxrule@linewidth{\dimexpr #1 / 4\relax}
                        \setlength\@tcb@oneandhalf@boxrule@linewidth{\dimexpr #1 * 3/2\relax}
                        \setlength\@tcb@twice@boxrule@linewidth{\dimexpr #1 * 2\relax}
                        %\@tcb@set@segrule@linewidths{20pt}
                        \setlength\@tcb@segrule@linewidth{\@tcb@single@border@linewidth}
                        %\@tcb@set@segrule@linewidths{20pt}
                        %\setlength\@tcb@half@segrule@linewidth{\dimexpr \@tcb@segrule@linewidth / 2\relax}
                        %\setlength\@tcb@quarter@segrule@linewidth{\dimexpr \@tcb@segrule@linewidth / 4\relax}
                        %\@tcb@set@segrule@linewidths{20pt}
                        \setlength\@tcb@segrule@xshift{\dimexpr \@tcb@half@boxrule@linewidth\relax}
                        %\@tcb@set@segrule@linewidths{20pt}
                        \setlength\@tcb@segrule@yshift{\dimexpr #1 + \@tcb@quarter@segrule@linewidth\relax}
                        \def\@terminal@style@xleftmargin{\@tcb@half@boxrule@linewidth}
                },
                %fuzzy shadow={1.25mm}{-1.5mm}{-1.0mm}{0.3mm}{tcbbashboxColorset-colboxshadow},
                fuzzy shadow={1.25mm}{-1.5mm}{-0.5mm}{0.2mm}{tcbbashboxColorset-colboxshadow},
                fontupper=\ttfamily, fontlower=\upshape, fonttitle=\@tcb@title@font,
                arc=6pt, boxrule=#1, boxsep=#1, bottom=0.5mm, %leftrule=2.5pt, rightrule=2.5pt,
                left=0mm, leftupper=0.0mm, leftlower=1.0mm, right=0mm, rightlower=1.0mm, rightupper=0.0mm,
                before lower=\vspace{-#1}, %after upper=\vspace{-2mm},
                terminalSegmentationCode={#1}{#2}{tcbbashboxColorset},
                tcbborder={#1}{#2}{#3}{#4},
                tcbtitleborder={#1}{#2}{#3}{#4},
                interior style={draw=black, line width=\@tcb@half@boxrule@linewidth},
                valign=top, valign upper=top, valign lower=top,
                finish =
                {
                        \path[draw=#3, line width=\@tcb@single@border@linewidth]
                                ([xshift=-\@tcb@segrule@xshift, yshift=-\@tcb@segrule@yshift]segmentation.north west)
                                -- ([xshift=\@tcb@segrule@xshift, yshift=-\@tcb@segrule@yshift]segmentation.north east);
                },
                lefttitle=3mm, after={\par\medskip}, toptitle=0mm, bottomtitle=-1.0mm%, top=3.0mm
        },
        tcbbashboxStyle/.default={\@tcb@default@boxrule@linewidth}{single}{tcbbashboxColorset-colframeborder}{tcbbashboxColorset-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbdefinitionlistboxStyle/.style =
        {
                @BASIC@STYLE, @set@tcb@property@colors, before skip=3mm, after skip=0mm, before title=\bfseries,
                arc=6pt, boxrule=5pt, toptitle=-0.25mm, bottomtitle=-1mm, lefttitle=2mm, top=3mm,
                fontupper=\normalsize\bfseries, fonttitle=\large\bfseries,
                subtitleStyle, titleSepCode, frameCodeSetup, interiorMultilineStyle
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbdiagramStyle/.style n args={4}%=
        {
                empty, unbreakable, segmentation empty, every float=\centering, hyphenationfix, %capture=hbox,
                box align=center, valign=top, center title, before upper app=\centering,
                enhanced, @set@tcb@property@colors=tcbdiagramColorset,
                fuzzy shadow={1.25mm}{-1.5mm}{-0.5mm}{0.3mm}{tcbdiagramColorset-colboxshadow},
                fonttitle=\@tcb@title@font, fontupper=\@tcb@node@font, fontlower=\@tcb@node@font,
                arc=6pt, boxrule=#1, boxsep=2pt,top=3mm, bottom=3.0mm, %left=0mm, % left=0mm, right=0mm,
                before=\par\medskip, after=\par\medskip,
                left skip=0mm, right skip=0mm,%before skip=3mm, after skip=3mm,
                lefttitle=2mm, righttitle=2mm, toptitle=1.5mm, bottomtitle=0.5mm,
                interiorStyle={\@interior@border@linewidth}{tcbdiagramColorset-colinteriorborder},
                tcbborder={#1}{#2}{#3}{#4},
                tcbtitleborder={#1}{#2}{#3}{#4}
        },
        tcbdiagramStyle/.default={\@tcb@default@boxrule@linewidth}{single}{tcbdiagramColorset-colframeborder}{tcbdiagramColorset-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbsetlinewidths/.style n args={2}%=
        {%
                code=
                {%
                        \IfStrEqCase{#2}%
                        {%
                                {plain}{\setlength\@tcb@single@border@linewidth{0pt}\setlength\@tcb@border@linewidth{0pt}}%
                                {single}{\setlength\@tcb@border@linewidth{\@tcb@single@border@linewidth}}%
                                {double}{\setlength\@tcb@border@linewidth{\@tcb@double@border@linewidth}}%
                                {inner}{\setlength\@tcb@border@linewidth{\@tcb@inner@border@linewidth}}%
                                {doubleinner}{\setlength\@tcb@border@linewidth{\@tcb@doubleinner@border@linewidth}}%
                        }[\setlength\@tcb@border@linewidth{\@tcb@single@border@linewidth}]%
                        \@tcb@set@boxrule@linewidths{#1}%
                        \@tcb@set@interior@border@linewidths{\@tcb@half@boxrule@linewidth}%
                        \setlength\@tcb@effective@boxrule@linewidth{\dimexpr#1 + \@tcb@half@interior@border@linewidth}%
                        \setlength\@tcb@half@effective@boxrule@linewidth{\dimexpr\@tcb@effective@boxrule@linewidth / 2}%
                        \setlength\@tcb@quarter@effective@boxrule@linewidth{\dimexpr\@tcb@effective@boxrule@linewidth / 4}%
                        %
                        \setlength\@tcb@titlerule@linewidth{\dimexpr#1 - \@tcb@half@interior@border@linewidth}%
                        \setlength\@tcb@half@titlerule@linewidth{\dimexpr\@tcb@titlerule@linewidth / 2}%
                        %
                        \setlength\@tcb@single@border@xshift%
                        	{\dimexpr\@tcb@half@boxrule@linewidth - \@tcb@half@border@linewidth + \@tcb@quarter@interior@border@linewidth}%
                        \setlength\@tcb@titlerule@xshift{\dimexpr\@tcb@half@effective@boxrule@linewidth - \@tcb@half@interior@border@linewidth}%
                        \setlength\@tcb@titlerule@yshift{\dimexpr\@tcb@half@titlerule@linewidth}%
                }%
        },
        tcbsetlinewidths/.default={\@tcb@default@boxrule@linewidth}{single},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbenvironmentStyle/.style n args={4}%=
        {
                enhanced, breakable=unlimited, fonttitle=\bfseries, @set@tcb@property@colors={current},
                arc=\@tcb@frame@corner@radius, boxrule=2pt, boxsep=3mm,
                fuzzy shadow={1.25mm}{-1.5mm}{-0.5mm}{0.3mm}{tcbenvironmentColorset-colboxshadow},
                code=
                {
        		\@tcb@set@doubleinner@border@linewidths{2.0pt}%
        		\setlength\@tcb@doubleinner@border@xshift%
        			{\dimexpr#1 / 2 + \@tcb@half@doubleinner@border@linewidth + \@interior@double@distance / 2\relax}
                },
                tcbborder={#1}{#2}{#3}{#4},       
                tcbtitleborder={#1}{angledbox}{#3}{#4},
                %colbackgradient={top color=blue!2!white, middle color=blue!6!white, bottom color=blue!13!white},
               	interior style={top color=blue!3!white, middle color=blue!10!white, bottom color=blue!19!white},
                top=1.0mm, bottom=-0.0mm, before skip=0mm, after=\par\bigskip\bigskip,
                pad before break*=1.5mm, enlarge top at break by=0.0mm, enlarge bottom at break by=-1.0mm%, lefttitle=0mm
        },
        tcbenvironmentStyle/.default={\@tcb@default@boxrule@linewidth}{doubleinner}{current-colframeborder}{current-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbenumeratedStyle/.style=
        {
                empty, enhanced, breakable=unlimited, enforce breakable, @set@tcb@property@colors,
                fonttitle=\bfseries\fontsize{11}{\baselinestretch}\selectfont,
                fontupper=\bfseries\fontsize{10}{10pt*\baselinestretch}\selectfont,
                drop fuzzy shadow=current-colboxshadow,
                arc=\@tcb@frame@corner@radius,
                interiorStyle, tcbfilledborder, %colframe=black,
                extras ={tcbfilledborder, interiorStyle},
                %interiorStyle={\@interior@border@linewidth}{tcbdiagramColorset-colinteriorborder},
                left=0mm, left skip=0mm, boxsep=3mm, toptitle=-3.5mm, bottomtitle=-3.995mm, right=2.0mm, boxrule=5pt,
                %borderline={2.5pt}{-0.5mm}{tcbbashboxColorset-colframeborder,rounded corners=6pt},
                before skip=2mm, after skip=3.5mm, top=-1.0mm, bottom=-1.0mm,
                enlarge top at break by=-2.5mm, enlarge bottom at break by=1.5mm, pad before break*=2mm%, pad after break=1.5mm, topsep at break=2mm%
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbequationStyle/.style =
        {
                @BASIC@STYLE, @set@tcb@property@colors=tcbequationColorset,
                width=\linewidth, box align=center, valign=top, fontupper=\@tcb@solutionVerb@font,
                before skip=-3mm, after skip=3mm, left skip=0mm,
                biColorMultilineInteriorStyle
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbequationlistboxStyle/.style =
        {
                @DEFAULT@STYLE, box align=center, valign=top, @set@tcb@property@colors=tcbequationlistboxColorset,
                fontupper=\@tcb@solutionVerb@font, before=\par\smallskip, after=\par\smallskip, %before skip=1mm, after skip=1mm
                top=2mm, toptitle=1.0mm, bottomtitle=1mm
                % reset, @BASIC@STYLE, @set@tcb@property@colors=solutionlistsColorset, top=2mm, toptitle=1.0mm,
                % bottomtitle=1mm, before skip=0mm, before=\par\smallskip, after=\par\smallskip
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbfigboxStyle/.style n args={4}%=
        {
                empty, enhanced, segmentation empty, every float=\centering, capture=hbox, hyphenationfix,
                box align=center, valign=top, center title, @set@tcb@property@colors=tcbfigboxColorset,
                fuzzy shadow={1.25mm}{-1.5mm}{-0.5mm}{0.3mm}{tcbfigboxColorset-colboxshadow},
                fonttitle=\@tcb@title@font, fontupper=\@tcb@text@font, fontlower=\@tcb@text@font,
                arc=6pt, top=2mm, bottom=1.0mm, left=0mm, % boxrule=#1, boxsep=2pt,left=0mm, right=0mm,
                before=\par\medskip, after=\par\medskip,
                %left skip=0mm, right skip=0mm,%before skip=3mm, after skip=3mm,
                lefttitle=2mm, righttitle=2mm, toptitle=1.5mm, bottomtitle=0.5mm,
                tcbborder={#1}{#2}{#3}{#4},
                tcbtitleborder={#1}{#2}{#3}{#4},
                interiorStyle={\@tcb@interior@border@linewidth}{#4}
        },
        tcbfigboxStyle/.default={\@tcb@default@boxrule@linewidth}{single}{tcbfigboxColorset-colframeborder}{tcbfigboxColorset-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbfigureStyle/.style n args={4}%=
        {
                reset, @DEFAULT@STYLE,
                %enhanced, segmentation empty, every float=\centering, capture=hbox, hyphenationfix,
%                box align=center, valign=top, center title,
                enhanced, @set@tcb@property@colors=tcbfigureColorset, colframe=black, title filled, before skip=0mm, after skip=0mm,
                fonttitle=\bfseries\sffamily, boxrule=#1, left=1mm, right=1mm, left skip=0mm, boxsep=1.5mm, %\liftedshadow,
                top=2mm, bottom=3mm, %righttitle=3mm, lefttitle=4mm, toptitle=3mm, bottomtitle=2mm,
                %tcbsetlinewidths={#1}{#2},
                tcbborder={#1}{#2}{#3}{#4},
                tcbtitleborder={#1}{#2}{#3}{#4},
                interiorStyle={#1}{#4}
        },
        tcbfigureStyle/.default={\@tcb@plain@border@linewidth}{plain}{tcbfigureColorset-colframeborder}{tcbfigureColorset-colinteriorborder},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbfunctiondefboxStyle/.style =
        {
                enhanced, breakable, @set@tcb@property@colors=#1, 
                %tcbborder={\@tcb@plain@border@linewidth}{plain}{current-colframeborder}{current-colinteriorborder},
                titleSepCode, frameCodeSetup, interiorStyle,
                %interiorStyle={\@interior@border@linewidth}{tcbfigboxColorset-colinteriorborder},
                arc=6pt, boxrule=5pt,
                before skip=3mm, after skip=-1mm, top=-8.0mm, bottom=-2.0mm, left=4.0mm,
                before title=\bfseries, toptitle=-0.5mm, bottomtitle=-1.75mm, lefttitle=1mm,
                fontupper=\normalsize\bfseries, fonttitle=\Large\bfseries, after=\par\smallskip,
        },
        tcbfunctiondefboxStyle/.default={current},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbfunctiondefdetailboxStyle/.style=
        {
                @BASIC@STYLE, breakable=unlimited, @set@tcb@property@colors, colframe=black,
                arc=6pt, boxrule=5pt, boxsep=3mm, before skip=0mm, after skip=2.25mm,
                top=-7mm, bottom=-1mm, before=\vspace{0mm}, pad before break=2.5mm, pad after break=-5.0mm,
                toptitle=2.25mm,  bottomtitle=1mm, lefttitle=0mm, before title=\bfseries,
                fontupper=\normalsize\bfseries, fonttitle=\LARGE\bfseries,
                attachBoxedTitleTopCenter, topCenterBoxedTitleStyle, interiorMultilineStyle
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbfunctionenvStyle/.style=
        {
                enhanced, breakable=unlimited, fonttitle=\bfseries, @set@tcb@property@colors, before skip=0mm,
                top=-1.0mm, bottom=-1.0mm, boxrule=5pt, boxsep=3mm, %after skip=10mm,%after=\medskip,
                title=\shadowText{Functions:}, colframe=black, after=\par\bigskip\smallskip,
                attachBoxedTitleTopCenter, topCenterBoxedTitleStyle, biColorMultilineInteriorStyle,
                enlarge top at break by=0.0mm, enlarge bottom at break by=2.0mm%, enlarge bottom finally by=1cm
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbinlinebashboxStyle/.style=
        {
                reset, no shadow, verbatim, title={}, arc=2pt, outer arc=3pt, boxrule=1pt, boxsep=0pt,
                colupper=white, colback=black, boxrule=1pt, colframe=black, coltext=white, bottom=0pt,
                listing options={language=bash-extended,  name=bash-extended}
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbinlinebashlistingStyle/.code=
        {
                code={\lstinline
                [
                        language=bash-extended,  name=bash-extended, style=inlineStyle
                        %identifierstyle=\textcolor{white},
%                       commentstyle=\textcolor{listingsColorset-commentcolor},
%                       stringstyle=\upshape\color{listingsColorset-stringcolor},
%                       showstringspaces=true, keywordstyle=\color{listingsColorset-keywordcolor1}
                ]}
        %\lstinline
                %[
                        language=bash-extended,  name=bash-extended, style=inlineStyle
%                       identifierstyle=\textcolor{white},
%                       commentstyle=\textcolor{listingsColorset-commentcolor},
%                       stringstyle=\upshape\color{listingsColorset-stringcolor},
%                       showstringspaces=true, keywordstyle=\color{listingsColorset-keywordcolor1}
                %]%
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcblistboxStyle/.style =
        {
                @BASIC@STYLE, left=1.5mm, boxsep=2pt, lefttitle=2mm, toptitle=1.5mm, bottomtitle=1mm, box align=center,
                valign=top, before skip=2mm, after skip=2mm, titlerule=1mm, boxrule=1mm,%leftrule=2mm,
                @set@tcb@property@colors=tcblistboxColorset, fontupper=\normalsize\bfseries, filledTitleSepCode={current}{0pt},
                %titleSepCode, %interiorStyle%, frameCodeSetup
                subtitle style={}
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcblistingCaptionStyle/.style n args={1}%=
        {
                %reset, enhanced,
                colback=tcblistingsCaptionColorset-colback, colframe=tcblistingsCaptionColorset-colframe,
                coltext=tcblistingsCaptionColorset-coltext,
                before skip=1mm, after skip=-8.5mm, left skip=0mm, right skip=0mm, %left skip=#2, \@tcblistings@captionleftskip
                boxsep=3pt, boxrule=2pt, arc=6pt, width=#1, before=\par\smallskip,
                left=2mm, right=3mm, top=0mm, bottom=0mm, fontupper=\normalsize\bfseries
        },
        tcblistingCaptionStyle/.default={\@tcblistings@captionwidth},%{\@tcblistings@captionleftskip},
%%-----------------------------------------------------------------------------------------------------------------------------------------%
%        tcblistingCaptionStyle/.style n args={1}%=
%        {
%                %enhanced,
%                colback=tcblistingsCaptionColorset-colbackcaption, colframe=tcblistingsCaptionColorset-colframecaption,
%                coltext=tcblistingsCaptionColorset-coltextcaption, %capture=hbox,%width=#1,
%                before skip=1mm, after skip=-8.5mm, left skip=0mm, right skip=0mm, %left skip=#2, \@tcblistings@captionleftskip
%                boxsep=3pt, boxrule=2pt, arc=6pt, before=\par\smallskip,
%                left=2mm, right=3mm, top=0mm, bottom=0mm, fontupper=\normalsize\bfseries
%        },
%        tcblistingCaptionStyle/.default={\@tcblistings@captionwidth},%{\@tcblistings@captionleftskip},
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbparagraphStyle/.style=
        {%\fontsize{10}{\baselinestretch}\selectfont
                enhanced, breakable=unlimited, enforce breakable, drop fuzzy shadow=current-colboxshadow,
                fonttitle=\bfseries\fontsize{12}{\baselinestretch}\selectfont,
                fontupper=\bfseries\fontsize{10}{10pt*\baselinestretch}\selectfont,
                @set@tcb@property@colors, before skip=2mm, %colframe=black,
                lefttitle=1mm, toptitle=-3.5mm, bottomtitle=-4.0mm,
                before skip=-0.0mm, after skip=2.25mm, top=-0.5mm, bottom=-1.0mm, boxrule=5pt,
                %borderline={2pt}{0.0mm}{tcbbashboxgoldColorset-colframeborder,rounded corners=6pt},
                boxsep=3mm, interiorStyle,
                %interiorStyle={\@interior@border@linewidth}{tcbfigboxColorset-colinteriorborder},
                frameCodeSetup
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbSectionStyle/.style =
        {
                empty, no shadow, breakable, attach boxed title to top left, %drop fuzzy shadow,
                width=\linewidth, @set@tcb@property@colors, topLeftSectionTitleStyle, pad at break*=0mm,
                fontupper=\normalsize\normalfont, fontlower=\normalsize\normalfont, fonttitle=\Large\bfseries, toptitle=0mm,
                boxsep=0pt, boxrule=2pt, arc=6pt, top=4pt, bottom=2mm, left=4mm, right=3mm, %after skip=1.5mm, % -> initial after skip probably applied to "solution" environment
                before skip=0mm, before=\par, after skip=2mm, before upper=\par\smallskip%=#1
        },
        %tcbSectionStyle/.default=current,
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbSubsectionStyle/.style =
        {
                enhanced, colframe=white, colback=white, colbacktitle=white, before skip=-1mm, after skip=3mm,
                top=0mm, bottom=1.5mm, left=1.5mm, right=1.0mm, width=1.05\wd\@frontbackmatter@savebox@,
                interior code=
                {
                        \draw[line width=3pt,current-colframeborder,line cap=rect] (interior.south east) -- +(-0.5cm,0pt);
                        \draw[line width=3pt,current-colframeborder,line cap=rect] (interior.south east) -- +(0pt,0.5cm);
                        \draw[line width=3pt,current-colframeborder,line cap=rect] (interior.south west) -- +(0.5cm,0pt);
                        \draw[line width=3pt,current-colframeborder,line cap=rect] (interior.south west) -- +(0pt,0.5cm);
                }
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbsolutionboxStyle/.style =
        {
                @DEFAULT@STYLE, box align=center, valign=top, before skip=-10mm, after skip=1mm,
                @set@tcb@property@colors=tcbsolutionboxColorset, fontupper=\@tcb@solutionVerb@font
        },
%-----------------------------------------------------------------------------------------------------------------------------------------%
        tcbsolutionverbStyle/.style =
        {
                enhanced, breakable, segmentation empty, every float=\centering,
                @set@tcb@property@colors=tcbsolutionverbColorset,
                lifted shadow={1.0mm}{-2.0mm}{2.5mm}{0.3mm}{tcbsolutionverbColorset-colboxshadow},
                hyphenationfix, arc = 6pt, box align=center, valign=top,
                fonttitle=\large\bfseries, fontupper=\normalsize\bfseries, fontlower=\normalsize\bfseries,
                before=\par\medskip, after=\par\bigskip
        }
}
%-----------------------------------------------------------------------------------------------------------------------------------------%
%*****************************************************************************************************************************************%
%**************************************************** End of 'my-styles.sty' package *****************************************************%
%*****************************************************************************************************************************************%
%\catcode`\!=\active
\endinput 